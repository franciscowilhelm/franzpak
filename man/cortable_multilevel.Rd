% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cortable_multilevel.R
\name{cortable_multilevel}
\alias{cortable_multilevel}
\title{Correlation table for two-level data}
\usage{
cortable_multilevel(
  df,
  varnames,
  grp,
  varlabels = NULL,
  between = NULL,
  wpv = FALSE,
  use.001 = TRUE,
  return_list = FALSE
)
}
\arguments{
\item{df}{the dataframe to be used, should contain all variables including grouping variable.}

\item{varnames}{the variable names as character vector.}

\item{grp}{the variable name that identifies the level-2 group as character.}

\item{varlabels}{character vector giving labels of the variables.}

\item{between}{character vector of variables that vary only at Level 2.}

\item{wpv}{Use Within-Person Variance (WPV) instead of ICC. WPV = 1-ICC.}

\item{use.001}{Don't use *** to mark p < .001; this makes the table more concise.}

\item{return_list}{Logical. If TRUE, returns a list with both formatted and numeric tables.
If FALSE, returns only the formatted table (default behavior for backward compatibility).}
}
\value{
If return_list = FALSE: a formatted correlation table as tibble.
If return_list = TRUE: a list containing:
\itemize{
\item formatted_table: The formatted correlation table with APA-style formatting
\item numeric_table: The correlation table with numeric values retained
\item numeric_table_p_values: The correlation table with p-values for significance testing
}
}
\description{
Correlation table for two-level data
}
\examples{
# Return formatted table only (backward compatible)
cortable_multilevel(mc_twolevel, c("Y", "M", "X"), "CLUSTER")

# Return both formatted and numeric tables
result <- cortable_multilevel(mc_twolevel, c("Y", "M", "X"), "CLUSTER", return_list = TRUE)
result$formatted_table        # APA-formatted table
result$numeric_table          # Numeric table for further analysis
result$numeric_table_p_values # P-values for significance testing
}
